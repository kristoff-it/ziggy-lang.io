<!DOCTYPE html>
<html>

<head id="head">
  <meta charset="UTF-8">
  <meta name="description" content="Ziggy: A JSON/YAML/TOML alternative.">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@croloris">
  <meta name="twitter:author" content="@croloris">
  <meta name="twitter:description" content="Ziggy: A JSON/YAML/TOML alternative.">
  <meta name="twitter:title" content="Ziggy Schema File Structure - Ziggy">
  <meta property="og:title" content="Ziggy Schema File Structure">
  <meta property="og:type" content="website">

  <meta http-equiv="x-ua-compatible" content="ie=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

  <title id="title">
    Ziggy Schema File Structure - Ziggy Data Language
  </title>
  <link rel="stylesheet" type="text/css" href="/fonts.css">
  <link rel="stylesheet" type="text/css" href="/style.css">
  <link rel="stylesheet" type="text/css" href="/highlight.css">
  
	<style>
		#content {
			display: flex;
			flex-direction: row;
			gap: 20px;
		}

		#sidebar {
			flex: 0 0 260px;
			padding-top: 0.67em;
		}

		#sidebar details {
			list-style: none;
		}

		#sidebar summary {
			border-top: 1px solid var(--border-color);
			list-style: none;
			padding: 10px 0;
			color: #333;
			font-weight: bold;
			padding-left: 10px;
		}

		#sidebar summary:hover {
			color: #111;
			background-color: #eee;
		}

		#sidebar ul {
			list-style: none;
			padding: 0;
			margin: 0 0 10px;
		}

		#sidebar a {
			display: block;
			text-decoration: none;
			padding: 5px 0;
			color: inherit;
			padding-left: 10px;
		}

		#sidebar a:hover {
			background-color: #ddd;
		}

		#sidebar-content {
			position: sticky;
			top: 110px;
		}

		#footer {
			display: flex;
			flex-direction: row;
			justify-content: space-between;
			width: 100%;
			margin-top: 50px;
			border-top: 1px solid var(--border-color);
			text-align: right;
		}

		#footer a {
			text-decoration: none;
			color: inherit;
		}

		#footer .title {
			font-weight: bold;
			color: #222;
			text-decoration: underline;
		}

		#main {
			max-width: 920px;
			flex-grow: 1;
		}

		#main h2 {
			margin-top: 1.5em;
			border-bottom: 2px dotted #aaa;
		}

		pre {
			margin: 10px;
			padding: 0;
			border: 1px dashed;
			border-radius: 0;
		}

		pre code {
			display: block;
			padding: 30px;
			padding-top: 0;
			padding-right: 0;
		}

		p code {
			background-color: #333;
			border-radius: 4px;
			color: white;
			padding: 0.2em;
		}

		pre::before {
			display: block;
			content: "Shell";
			background-color: #fff;
			font-family: "Epilogue", sans-serif;
			font-size: 0.7em;
			color: #555;
			padding: 10px;
			padding-left: 15px;
			padding-top: 12px;
			text-transform: uppercase;
			margin-bottom: 30px;
			position: sticky;
			top: 0;
			left: 0;
			z-index: 10;
		}

		pre:has(> code.markdown):before {
			content: "Markdown";
		}

		pre:has(> code.javascript):before {
			content: "JavaScript";
		}

		pre:has(> code.zig):before {
			content: "Zig";
		}

		pre:has(> code.lua):before {
			content: "Lua";
		}

		pre:has(> code.toml):before {
			content: "TOML";
		}

		pre:has(> code.json):before {
			content: "JSON";
		}

		pre:has(> code.ziggy):before {
			content: "Ziggy Document";
		}

		pre:has(> code.ziggy-schema):before {
			content: "Ziggy Schema";
		}


		@media (max-width: 1000px) {
			#content {
				padding: 0 15px;
				flex-direction: column-reverse;
			}

			#main {
				max-width: 1000px;
			}

		}
	</style>

</head>

<body id="body">
  <nav id="top-nav">
    <div id="top-nav-container">
      <span>
        <a href="/"
          style="font-size: 1.8em;font-family:'Glue Gun';font-weight:bold;text-decoration: none; color: black;">Ziggy</a>
        <span>v0.0.1</span>
      </span>
      <div id="top-nav-menu">
        <a href="/documentation/getting-started/">
          Quickstart
        </a>
        <a href="/documentation/about/">
          Documentation
        </a>
        <a href="/log/">
          Changelog
        </a>
        <a href="https://github.com/kristoff-it/ziggy" target="_blank">
          Code
        </a>
      </div>
    </div>
  </nav>
  
	<div id="content">
		<nav id="sidebar">
			<div id="sidebar-content">
				<details open>
					<summary>Overview</summary>
					<ul>
						<li><a href="/documentation/about/">About</a></li>
						<li><a href="/documentation/getting-started/">Getting Started</a></li>
					</ul>
				</details>
				<details open>
					<summary>Editor Configuration</summary>
					<ul>
						<li><a href="/documentation/editors/vscode/">VSCode</a></li>
						<li><a href="/documentation/editors/neovim/">Neovim</a></li>
						<li><a href="/documentation/editors/helix/">Helix</a></li>
					</ul>
				</details>
				<details open>
					<summary>Ziggy Documents</summary>
					<ul>
						<li><a href="/documentation/scalars/">Scalar Values</a></li>
						<li><a href="/documentation/containers/">Container Values</a></li>
						<li><a href="/documentation/document/">Document Structure</a></li>
					</ul>
				</details>
				<details open>
					<summary>Ziggy Schemas</summary>
					<ul>
						<li><a href="/documentation/builtin-types/">Builtin Types</a></li>
						<li><a href="/documentation/custom-types/">Custom Types</a></li>
						<li><a href="/documentation/schema-structure/">Schema Structure</a></li>
					</ul>
				</details>
				<details open>
					<summary>Design Tips</summary>
					<ul>
						<li><a href="/documentation/struct-unions/">Struct Unions</a></li>
						<li><a href="/documentation/tagged-literals/">Tagged Literals</a></li>
					</ul>
				</details>
				<details open>
					<summary>Libraries</summary>
					<ul>
						<li><a href="/documentation/parsers/">Parsers</a></li>
					</ul>
				</details>
				<details open>
					<summary>Ziggy CLI Tool</summary>
					<ul>
						<li><a href="/documentation/ziggy-fmt/">fmt</a></li>
						<li><a href="/documentation/ziggy-query/">query</a></li>
						<li><a href="/documentation/ziggy-check/">check</a></li>
						<li><a href="/documentation/ziggy-convert/">convert</a></li>
						<li><a href="/documentation/ziggy-lsp/">lsp</a></li>
					</ul>
				</details>
				<details>
					<summary>Specification</summary>
					<ul>
						<li><a href="/documentation/spec/">Specification</a></li>
					</ul>
				</details>
			</div>
		</nav>

		<div id="main">
			<div ><h1>Ziggy Schema File Structure</h1><h2>File Extension</h2><p>A Ziggy Schema file can have either a <code>ziggy-schema</code> or a <code>zgy-schema</code> file extension.</p><h2>Contents</h2><p>Here's an example Ziggy Schema:</p><pre><code class="ziggy-schema"><span class="keyword">root</span> = <span class="type">Message</span>


<span class="comment line documentation">///A UUIDv4 value.</span>
<span class="function">@uuid</span> = <span class="constant builtin">bytes</span><span class="punctuation delimiter">,</span>
<span class="comment line documentation">///Possible command actions.</span>
<span class="function">@action</span> = <span class="keyword">enum</span> <span class="punctuation bracket">{</span> <span class="type">clear_chat</span><span class="punctuation delimiter">,</span> <span class="type">ban_user</span> <span class="punctuation bracket">}</span><span class="punctuation delimiter">,</span>

<span class="keyword">struct</span> <span class="type">Message</span> <span class="punctuation bracket">{</span>
  <span class="keyword">id</span>: <span class="function">@uuid</span><span class="punctuation delimiter">,</span>
  <span class="keyword">payload</span>: <span class="type">Command</span> <span class="punctuation">|</span> <span class="type">Notification</span><span class="punctuation delimiter">,</span>
<span class="punctuation bracket">}</span>

<span class="keyword">struct</span> <span class="type">Command</span> <span class="punctuation bracket">{</span>
  <span class="keyword">do</span>: <span class="function">@action</span><span class="punctuation delimiter">,</span>
  <span class="keyword">sender</span>: <span class="constant builtin">bytes</span><span class="punctuation delimiter">,</span>
<span class="punctuation bracket">}</span>

<span class="keyword">struct</span> <span class="type">Notification</span> <span class="punctuation bracket">{</span>
  <span class="keyword">title</span>: <span class="constant builtin">bytes</span><span class="punctuation delimiter">,</span>
  <span class="keyword">text</span>: <span class="constant builtin">bytes</span><span class="punctuation delimiter">,</span>
  <span class="keyword">level</span>: <span class="constant builtin">int</span><span class="punctuation delimiter">,</span>
<span class="punctuation bracket">}</span>
</code></pre>
<p>A Ziggy schema is comprised of three main sections:</p><ul><li><p>the <code>root</code> definition</p></li><li><p>a list of comma separated tag literal definitions</p></li><li><p>a list of struct definitions</p></li></ul><h3>The <code>root</code> definition</h3><p>The first line of a Ziggy Schema defines what is the type of the value that corresponding Ziggy Documents encode.</p><p>Most of the time one should expect the root value to be a struct name, but that is not always the case as a Ziggy Document can encode any possible Ziggy value, not just structs.</p><p>For example the following are all valid Ziggy Schemas:</p><pre><code class="ziggy-schema"><span class="keyword">root</span> = <span class="constant builtin">bytes</span>
</code></pre>
<pre><code class="ziggy-schema"><span class="keyword">root</span> = <span class="punctuation bracket">[</span><span class="constant builtin">int</span><span class="punctuation bracket">]</span>
</code></pre>
<pre><code class="ziggy-schema"><span class="keyword">root</span> = <span class="keyword">map</span><span class="punctuation bracket">[</span><span class="type">?</span><span class="punctuation bracket">[</span><span class="constant builtin">float</span><span class="punctuation bracket">]</span><span class="punctuation bracket">]</span>
</code></pre>
<pre><code class="ziggy-schema"><span class="keyword">root</span> = <span class="punctuation bracket">[</span><span class="function">@fruit</span><span class="punctuation bracket">]</span>

<span class="function">@fruit</span> = <span class="keyword">enum</span> <span class="punctuation bracket">{</span> <span class="type">apple</span><span class="punctuation delimiter">,</span> <span class="type">banana</span><span class="punctuation delimiter">,</span> <span class="type">cherry</span> <span class="punctuation bracket">}</span><span class="punctuation delimiter">,</span>
</code></pre>
<h3>Tagged literal definitions</h3><p>After the root definition follows a list of comma separated tagged literals. All tagged literals mentioned in the schema must be mentioned in that list of definitions.</p><pre><code class="ziggy-schema"><span class="keyword">root</span> = <span class="punctuation bracket">[</span><span class="type">Foo</span><span class="punctuation bracket">]</span>

<span class="function">@uuid</span> = <span class="constant builtin">bytes</span><span class="punctuation delimiter">,</span>
<span class="function">@date</span> = <span class="constant builtin">bytes</span><span class="punctuation delimiter">,</span>
<span class="function">@fruit</span> = <span class="keyword">enum</span> <span class="punctuation bracket">{</span> <span class="type">apple</span><span class="punctuation delimiter">,</span> <span class="type">banana</span><span class="punctuation delimiter">,</span> <span class="type">cherry</span> <span class="punctuation bracket">}</span><span class="punctuation delimiter">,</span>

<span class="keyword">struct</span> <span class="type">Foo</span> <span class="punctuation bracket">{</span>
  <span class="keyword">id</span>: <span class="function">@uuid</span><span class="punctuation delimiter">,</span>
  <span class="keyword">date</span>: <span class="type">?</span><span class="function">@date</span><span class="punctuation delimiter">,</span>
  <span class="keyword">fruits</span>: <span class="punctuation bracket">[</span><span class="function">@fruit</span><span class="punctuation bracket">]</span><span class="punctuation delimiter">,</span>
<span class="punctuation bracket">}</span>
</code></pre>
<h3>Struct definitions</h3><p>The final section of a Ziggy Schema file is a list of struct definitions.</p><pre><code class="ziggy-schema"><span class="keyword">root</span> = <span class="punctuation bracket">[</span><span class="type">A</span> <span class="punctuation">|</span> <span class="type">B</span> <span class="punctuation">|</span> <span class="type">C</span><span class="punctuation bracket">]</span>

<span class="function">@uuid</span> = <span class="constant builtin">bytes</span><span class="punctuation delimiter">,</span>

<span class="keyword">struct</span> <span class="type">A</span> <span class="punctuation bracket">{</span>
  <span class="keyword">id</span>: <span class="function">@uuid</span><span class="punctuation delimiter">,</span>
  <span class="keyword">foo</span>: <span class="constant builtin">bytes</span><span class="punctuation delimiter">,</span>
<span class="punctuation bracket">}</span>

<span class="keyword">struct</span> <span class="type">B</span> <span class="punctuation bracket">{</span>
  <span class="keyword">id</span>: <span class="function">@uuid</span><span class="punctuation delimiter">,</span>
  <span class="keyword">bar</span>: <span class="constant builtin">bytes</span><span class="punctuation delimiter">,</span>
<span class="punctuation bracket">}</span>

<span class="keyword">struct</span> <span class="type">C</span> <span class="punctuation bracket">{</span>
  <span class="keyword">id</span>: <span class="function">@uuid</span><span class="punctuation delimiter">,</span>
  <span class="keyword">baz</span>: <span class="constant builtin">bytes</span><span class="punctuation delimiter">,</span>
<span class="punctuation bracket">}</span>
</code></pre>
</div>
			<nav id="footer">
				<div >
					<a href="/documentation/custom-types/">
						<p>
							← <span class="title" >Ziggy Schema Custom Types</span>
						</p>
					</a>
				</div>
				<div >
					<a href="/documentation/struct-unions/">
						<p>
							<span class="title" >Struct Unions</span> →
						</p>
					</a>
				</div>
			</nav>
		</div>
	</div>

</body>

</html>